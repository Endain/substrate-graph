"use strict";function Graph(){this.init()}function GraphNode$1(e,t,o){this.init(e,t,o)}function GraphEdge$1(e,t,o,r,i){this.init(e,t,o,r,i)}Object.defineProperty(exports,"__esModule",{value:!0}),Graph.prototype.init=function(){this._nodes=[],this._edges=[],this._addedNodes=0,this._addedEdges=0,this._removedNodes=0,this._removedEdges=0,this._nodeIds=0,this._edgeIds=0,this._suppressEvents=!1},Graph.prototype.addNode=function(){var e=new GraphNode(this,this._nodeIds++,this._nodes.length);return this._nodes.push(e),this._addedNodes++,this._suppressEvents||this.trigger("nodeadded",e),e},Graph.prototype.addEdge=function(e,t){if(this._isNode(e)&&this._isNode(t)){var o=new GraphEdge(this,this._edgeIds++,e,t,this._edges.length);return this._edges.push(o),this._addedEdges++,this.trigger("edgeadded",o),o}return!1},Graph.prototype.removeNode=function(e){if(this._isNode(e)){var t=this._nodes.pop();t!==e&&(t._index=e._index,this._nodes[t._index]=t);for(var o=0;e._edges.length>o;o++)this.removeEdge(e._edges[o]);this._removedNodes++,this._suppressEvents||this.trigger("noderemoved",e)}return!1},Graph.prototype.removeEdge=function(e){if(this._isEdge(e)){var t=this._edges.pop();t!==e&&(t._index=node._index,this._edges[t._index]=t),e._from._disconnectEdge(e),e._to._disconnectEdge(e),this._removedEdges++,this.trigger("edgeremoved",e)}return!1},Graph.prototype.nodes=function(){return this._nodes},Graph.prototype.edges=function(){return this._edges},Graph.prototype.totalNodes=function(){return this._nodes.length},Graph.prototype.totalEdges=function(){return this._edges.length},Graph.prototype._isNode=function(e){return e&&e instanceof GraphNode&&e._graph===this?!0:!1},Graph.prototype._isEdge=function(e){return e&&e instanceof GraphEdge&&e._graph===this?!0:!1},MicroEvent.mixin(Graph),GraphNode$1.prototype.init=function(e,t,o){this._graph=e,this._id=t,this._index=o,this._properties={},this._edges=[]},GraphNode$1.prototype.id=function(){return this._id},GraphNode$1.prototype.graph=function(){return this._graph},GraphNode$1.prototype.property=function(e,t){return void 0!==e?(void 0!==t&&(this._properties[e]=t),this._properties[e]):void 0},GraphNode$1.prototype._connectEdge=function(e){e._from===this?e._fromIndex=this._edges.length:e._toIndex=this._edges.length,this._edges.push(e)},GraphNode$1.prototype._disconnectEdge=function(e){var t=this._edges.pop();if(t!==e){var o=e._from===this?e._fromIndex:e._toIndex;t._from===this?(t._fromIndex=o,this._edges[o]=t):(t._toIndex=o,this._edges[o]=t)}},GraphEdge$1.prototype.init=function(e,t,o,r,i){this._graph=e,this._id=t,this._index=i,this._from=o,this._to=r,this._properties={},o._connectEdge(this),r._connectEdge(this)},GraphEdge$1.prototype.id=function(){return this._id},GraphEdge$1.prototype.graph=function(){return this._graph},GraphEdge$1.prototype.from=function(){return this._from},GraphEdge$1.prototype.to=function(){return this._to},GraphEdge$1.prototype.property=function(e,t){return void 0!==e?(void 0!==t&&(this._properties[e]=t),this._properties[e]):void 0},exports.Graph=Graph,exports.Node=GraphNode$1,exports.Edge=GraphEdge$1